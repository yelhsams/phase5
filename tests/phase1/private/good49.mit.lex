3 IDENTIFIER Ncars
3 =
3 INTLITERAL 10
3 ;
4 IDENTIFIER Nsteps
4 =
4 INTLITERAL 500
4 ;
8 IDENTIFIER forall
8 =
8 fun
8 (
8 IDENTIFIER c
8 ,
8 IDENTIFIER f
8 )
8 {
9 IDENTIFIER print
9 (
9 STRINGLITERAL "in for all"
9 )
9 ;
10 IDENTIFIER n
10 =
10 IDENTIFIER c
10 .
10 IDENTIFIER n
10 ;
11 IDENTIFIER i
11 =
11 INTLITERAL 0
11 ;
12 while
12 (
12 IDENTIFIER i
12 <
12 IDENTIFIER n
12 )
12 {
13 IDENTIFIER f
13 (
13 IDENTIFIER c
13 [
13 IDENTIFIER i
13 ]
13 )
13 ;
14 IDENTIFIER i
14 =
14 IDENTIFIER i
14 +
14 INTLITERAL 1
14 ;
15 }
16 }
16 ;
18 IDENTIFIER mapreduce
18 =
18 fun
18 (
18 IDENTIFIER c
18 ,
18 IDENTIFIER m
18 ,
18 IDENTIFIER r
18 )
18 {
19 IDENTIFIER print
19 (
19 STRINGLITERAL "map reduce"
19 )
19 ;
20 IDENTIFIER n
20 =
20 IDENTIFIER c
20 .
20 IDENTIFIER n
20 ;
21 if
21 (
21 IDENTIFIER n
21 <=
21 INTLITERAL 1
21 )
21 {
22 return
22 STRINGLITERAL "error"
22 ;
23 }
24 IDENTIFIER res
24 =
24 IDENTIFIER r
24 (
24 IDENTIFIER m
24 (
24 IDENTIFIER c
24 [
24 INTLITERAL 0
24 ]
24 )
24 ,
24 IDENTIFIER m
24 (
24 IDENTIFIER c
24 [
24 INTLITERAL 1
24 ]
24 )
24 )
24 ;
25 IDENTIFIER i
25 =
25 INTLITERAL 2
25 ;
26 while
26 (
26 IDENTIFIER i
26 <
26 IDENTIFIER n
26 )
26 {
27 IDENTIFIER res
27 =
27 IDENTIFIER r
27 (
27 IDENTIFIER res
27 ,
27 IDENTIFIER m
27 (
27 IDENTIFIER c
27 [
27 IDENTIFIER i
27 ]
27 )
27 )
27 ;
28 IDENTIFIER i
28 =
28 IDENTIFIER i
28 +
28 INTLITERAL 1
28 ;
29 }
30 return
30 IDENTIFIER res
30 ;
31 }
31 ;
